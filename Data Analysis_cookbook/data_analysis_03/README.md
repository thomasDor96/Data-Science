# Python for Data Analysis

Course in data science. Learn to analyze data of all types using the Python programming language. No programming experience is necessary.

Quick links: [üìÅ lessons](https://github.com/cuttlefishh/python-for-data-analysis/tree/master/lessons)  [‚è¨ Lesson Schedule](https://github.com/cuttlefishh/python-for-data-analysis#lesson-schedule)

Software covered:

* IPython environment and Jupyter notebooks
* Conda for package management and virtual environments
* Python 3

Course topics include:

* Introduction to/review of the command line
* Fundamentals of Python and its data types
* Data analysis packages Numpy and Pandas
* Plotting packages Matplotlib and Seaborn
* Statistics
* Regular expressions
* Interactive visualization
* Modules and classes
* Git and GitHub

## Instructor

* Luke Thompson, Ph.D.
* Lecturer at Scripps Institution of Oceanography, Research Associate at NOAA
* Email: luke@ucsd.edu, luke.thompson@noaa.gov
* Pages: [GitHub](https://github.com/cuttlefishh), [Google Scholar](https://scholar.google.com/citations?user=kggNWsMAAAAJ), [NOAA profile + CV](https://swfsc.noaa.gov/staff.aspx?id=22360)

<!--
* Office hours by appointment

## Meetings

* Course number: SIOC 209
* Quarter: Winter 2017-18
* Meeting time: Tu/Th 9:00-10:20
* First and last day of class: January 9-March 15 (20 lessons)
* Location and door code: ask instructor
-->

## Online Content

* GitHub repository: <https://github.com/cuttlefishh/python-for-data-analysis>
* YouTube channel: <https://www.youtube.com/channel/UCVZrIrWtcvTzYlrNx7RcDyg>

## Textbooks

* [_Learn Python 3 the Hard Way_](https://learnpythonthehardway.org/python3/) by Zed Shaw (Addison-Wesley) -- Step-by-step introduction to Python with no prior knowledge assumed; includes appendix Command Line Crash Course.
* [_Learning Python_](http://proquest.safaribooksonline.com/book/programming/python/9781449355722) 3rd Edition by Mark Lutz (O'Reilly) --  Optional; more traditional introduction to Python as a computer language.
* [_Python for Data Analysis_](http://proquest.safaribooksonline.com/book/programming/python/9781491957653) 2nd Edition by Wes McKinney (O'Reilly) -- Manual focused on Pandas, the popular Python package for data analysis, by its creator. GitHub page: <https://github.com/wesm/pydata-book>.

Note: O'Reilly Media titles are free to UCSD affiliates with [Safari Books Online](http://proquest.safaribooksonline.com/?uicode=ucsd).

## Additional Materials

### Command Line Resources

* [Git for Windows](https://git-for-windows.github.io) -- BASH emulator and Git software for Windows
* [Learning the Shell](http://www.linuxcommand.org/learning_the_shell.php) -- Great intro to the Unix shell
* [Unix Tutorial](http://evomics.org/unix-tutorial-2015/) by Julian Catchen -- From [Evomics 2015](http://evomics.org/workshops/workshop-on-genomics/2015-workshop-on-genomics-cesky-krumlov/) workshop in Czech Republic
* [Learn the Command Line](https://www.codecademy.com/courses/learn-the-command-line) -- Code Academy
* [_Learn Unix The Hard Way_](http://cli.learncodethehardway.org/book/) by Zed Shaw -- More detail than you will get from Appendix A of Shaw's _LPTHW_

### Python Resources

* [MIT OpenCourseWare](http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-00sc-introduction-to-computer-science-and-programming-spring-2011/Syllabus/)
* [SciPy Lectures](https://scipy-lectures.github.io)
* [MatPlotLib Cheatsheet](https://github.com/juliangaal/python-cheat-sheet/blob/master/Matplotlib/Matplotlib.md)

### IPython Resources from Cyrille Rossant

* [IPython Interactive Computing and Visualization Cookbook](http://www.amazon.com/IPython-Interactive-Computing-Visualization-Cookbook/dp/1783284811)
* [Learning IPython for Interactive Computing and Data Visualization](https://www.packtpub.com/big-data-and-business-intelligence/learning-ipython-interactive-computing-and-data-visualization) -- [GitHub repo](https://github.com/rossant/ipython-minibook)

### Data Analysis Resources

* [10-minute Tour of Pandas](https://vimeo.com/59324550) by Wes McKinney -- Basic video tour
* [R vs. Python for Data Analysis](http://www.r-bloggers.com/choosing-r-or-python-for-data-analysis-an-infographic/) -- Fun cartoon to abate or fuel your biases
* [_Python Scripting for Computational Science_](http://www.springer.com/us/book/9783540739159) by H. P. Langtangen -- Deeper and more mathematical treatment
* [An Introduction To Applied Bioinformatics](http://caporasolab.us/An-Introduction-To-Applied-Bioinformatics/) by Greg Caporaso
* [A Dramatic Tour through Python's Data Visualization Landscape](https://dansaber.wordpress.com/2016/10/02/a-dramatic-tour-through-pythons-data-visualization-landscape-including-ggplot-and-altair/)

## Course Philosophy

1. Just like anything else, you learn Python by doing. With a few exceptions, you're not going to break your computer by trying new commands. So just try it and see what happens. Print output of commands. Print values of variables. Kick the thing until it works.
2. When you don't know how to do something, google it. You'll be amazed by the solutions you'll find to do _thing x_ if you google "python thing x".
3. Learn keyboard shortcuts, as many as you can. Tab-complete in the shell and IPython/Jupyter!
4. Remember Zed's sage wisdom:
	* Practice every day.
	* Don't over-do it. Slow and steady wins the race.
	* It's alright to be totally lost at first.
	* When you get stuck, get more information.
	* Try to solve it yourself first.

## Assignments

### Weekly assignments

Weekly take-home assignments will follow the course schedule, reinforcing skills with exercises to analyze and visualize scientific data. Assignments will given out on Thursdays and will be due the following Thursday, using TritonEd.

### Final Project

You will choose a data set of your own or provided in one of the texts and write a Python program (or set of Python programs or mixture of .ipynb and .py/.sh scripts) to carry out a revealing data analysis. Have a look at Shaw Ex43-52 and McKinney Ch10-12 for more ideas.

Requirements:

* Submit your project as either: a Jupyter notebook (or collection of notebooks), a Python script (or collection of scripts), or a combination of the two.
* Use `pandas` and at least three (3) additional libraries/packages, such as:
	- Plotting: `matplotlib`, `seaborn`
	- Statistics and modeling: `statsmodels`, `scikit-learn`
	- Bioinformatics: `scikit-bio`, `biopython`
	- Climate science: `cdms`, `iris`
	- Other domain-specific libraries/packages
* Use at least three (3) user-defined functions.
* Optional: Create user-defined modules and classes for use in your code.
* Optional: Share your code on GitHub.

Note: There are no midterm or final exams.

## Schedule Overview

_Schedule is subject to change._

The course consists of 20 lessons. It was originally taught as 2 lessons per week for 10 weeks, but the material can be covered at any pace.

Lessons 1-3 will be an introduction to the command line. By the end of this tutorial, everyone will be familiar with basic Unix commands.

Lessons 4-9 will be an introduction to programming using Python. The main text will be Shaw's _Learn Python 3 the Hard Way_. For those with experience in a programming language other than Python, Lutz's _Learning Python_ will provide a more thorough introduction to programming Python. We will learn to use IPython and IPython Notebooks (also called Jupyter), a much richer Python experience than the Unix command line or Python interpreter.

Lessons 10-18 will focus on Python packages for data analysis. We will work through McKinney's _Python for Data Analysis_, which is all about analyzing data, doing statistics, and making pretty plots. You may find that Python can emulate or exceed much of the functionality of R and MATLAB.

Lessons 19-20 conclude the course with two skills useful in developing code: writing your own classes and modules, and sharing your code on GitHub.

## Lesson Schedule

* Course material is available as .md or .ipynb files by clicking on the lesson number below.
* In addition to doing the readings, please follow along writing code (this is integral to the Shaw readings), and do any Study Drills (Shaw) and Chapter Quizzes (Lutz).

Lesson	|	Title	|	Readings	|	Topics	|	Assignment
-----	|	-----	|	-----	|	-----	|	-----
[1](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson01.md)	|	Overview	|	--	|	Introductions and overview of course	|	Pre-course survey; Acquire texts
[2](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson02.md)	|	Command Line Part I	|	Shaw: [Introduction](https://learnpythonthehardway.org/python3/intro.html),<br>[Ex0](https://learnpythonthehardway.org/python3/ex0.html), [Appendix A](https://learnpythonthehardway.org/python3/appendixa.html)	|	Command line crash course; Text editors	|	Assignment 1: Basic Shell Commands
[3](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson03.md)	|	Command Line Part II	|	Yale: [The 10 Most Important Linux Commands](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/data/the_10_most_important_linux_commands.md)	|	Advanced commands in the bash shell	|	--
[4](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson04.ipynb)	|	Conda, IPython, and Jupyter Notebooks	|	Geohackweek: [Introduction to Conda](https://geohackweek.github.io/Introductory/01-conda-tutorial/)	|	Conda tutorial including Conda environments, Python packages, and PIP, Python and IPython in the command line, Jupyter notebook tutorial and Python crash course	|	Assignment 2: Bash, Conda, IPython, and Jupyter
[5](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson05.ipynb)	|	Python Basics, Strings, Printing	|	Shaw: [Ex1-10](https://learnpythonthehardway.org/python3/ex1.html); Lutz: Ch1-7	|	Python scripts, error messages, printing strings and variables, strings and string operations, numbers and mathematical expressions, getting help with commands and Ipython	|	--
[6](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson06.ipynb)	|	Taking Input, Reading and Writing Files, Functions	|	Shaw: [Ex11-26](https://learnpythonthehardway.org/python3/ex11.html); Lutz: Ch9,14-17	|	Taking input, reading files, writing files, functions	|	Assignment 3: Python Fundamentals I
[7](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson07.ipynb)	|	Logic, Loops, Lists, Dictionaries, and Tuples	|	Shaw: [Ex27-39](https://learnpythonthehardway.org/python3/ex27.html); Lutz: Ch8-13	|	Logic and loops, lists and list comprehension, tuples, dictionaries, other types	|	--
[8](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson08.ipynb)	|	Python and IPython Review	|	McKinney: [Ch1](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/preliminaries/intro_html), [Ch2](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/python-language-basics-ipython-and-jupyter-notebooks/intro_python_environment_html), [Ch3](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/built-in-data-structures-functions-and-files/intro_python_stdlib_html)	|	Review of Python commands, IPython review -- enhanced interactive Python shells with support for data visualization, distributed and parallel computation and a browser-based notebook with support for code, text, mathematical expressions, inline plots and other rich media	|	Assignment 4: Python Fundamentals II
[9](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson09.ipynb)	|	Regular Expressions	|	Kuchling: [Regular Expression HOWTO](https://docs.python.org/3/howto/regex.html)	|	Regular expression syntax, Command-line tools: `grep`, `sed`, `awk`, `perl -e`, Python examples: built-in and `re` module	|	--
[10](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson10.ipynb)	|	Numpy, Pandas and Matplotlib Crashcourse	|	Pratik: [Introduction to Numpy and Pandas](https://cloudxlab.com/blog/numpy-pandas-introduction/)	|	Numpy, Pandas, and Matplotlib overview	|	Assignment 5: Regular Expressions
[11](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson11.ipynb)	|	Pandas Part I	|	McKinney: [Ch4](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/numpy-basics-arrays-and-vectorized-computation/numpy_html), [Ch5](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/getting-started-with-pandas/pandas_html)	|	Introduction to NumPy and Pandas: `ndarray`, `Series`, `DataFrame`, `index`, `columns`, `dtypes`, `info`, `describe`, `read_csv`, `head`, `tail`, `loc`, `iloc`, `ix`, `to_datetime`	|	--
[12](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson12.ipynb)	|	Pandas Part II	|	McKinney: [Ch6](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/data-loading-storage-and-file-formats/io_html), [Ch7](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/data-cleaning-and-preparation/data_preparation_html), [Ch8](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/data-wrangling-join-combine-and-reshape/wrangling_html)	|	Data Analysis with Pandas: `concat`, `append`, `merge`, `join`, `set_option`, `stack`, `unstack`, `transpose`, dot-notation, `values`, `apply`, `lambda`, `sort_index`, `sort_values`, `to_csv`, `read_csv`, `isnull`	|	Assignment 6: Pandas Fundamentals
[13](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson13.ipynb)	|	Plotting with Matplotlib	|	McKinney: [Ch9](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/plotting-and-visualization/vis_html); Johansson: [Matplotlib 2D and 3D plotting in Python](http://github.com/jrjohansson/scientific-python-lectures)	|	Matplotlib tutorial from J.R. Johansson	|	--
[14](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson14.ipynb)	|	Plotting with Seaborn	|	[Seaborn Tutorial](http://seaborn.pydata.org/tutorial.html)	|	Seaborn tutorial from Michael Waskom	|	Assignment 7: Plotting
[15](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson15.ipynb)	|	Pandas Time Series	|	McKinney: [Ch11](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/time-series/timeseries_html)	|	Time series data in Pandas	|	--
[16](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson16.ipynb)	|	Pandas Group Operations	|	McKinney: [Ch10](http://proquest.safaribooksonline.com/book/programming/python/9781491957653/data-aggregation-and-group-operations/groupby_html)	|	`groupby`, `melt`, `pivot`, `inplace=True`, `reindex`	|	Assignment 8: Time Series and Group Operations
[17](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson17.ipynb)	|	Statistics Packages	|	[Handbook of Biological Statistics](http://www.biostathandbook.com)	|	Statitics capabilities of Pandas, Numpy, Scipy, and Scikit-bio	|	--
[18](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson18.ipynb)	|	Interactive Visualization with Bokeh	|	[Bokeh User Guide](http://bokeh.pydata.org/en/latest/docs/user_guide.html)	|	Quickstart guide to making interactive HTML and notebook plots with Bokeh	|	Assignment 9: Statistics and Interactive Visualization
[19](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson19.ipynb)	|	Modules and Classes	|	Shaw: [Ex40-52](https://learnpythonthehardway.org/python3/ex40.html)	|	Packaging your code so you and others can use it again	|	--
[20](https://github.com/cuttlefishh/python-for-data-analysis/blob/master/lessons/lesson20.md)	|	Git and GitHub	|	[GitHub Guides](https://guides.github.com)	|	Sharing your code in a public GitHub repository	|	Final Project

<!--

To Change For Next Year
-----

See ./TO_CHANGE.md for most up-to-date version.

Update these lessons:

* lesson9.ipynb - Include x.startswith(), x.endswith(), and similar for string regular expressions.
* lesson10.ipynb, lesson11.ipynb - Slicing with Pandas: emphasize that label-based slicing is inclusive but position-based slicing is not inclusive. Negation operator (~): explain along with .isna, .notna, .isnull, etc.
* lesson13.ipynb - Give examples of scatter plot and other common plots.
* lesson14.?.ipynb - Condense and add some personal touches.
* lesson15.ipynb - Pandas Time Series. Condense and remove repetitive sections. Remove most of the business use cases ('B', 'BM', etc.). Add more commentary. Focus more on data science applications, eg importing a dataset with dates/times and indexing/slicing. Teach Timestamp and Period in parallel rather than separately. Mention that we can parse dates directly when we read the csv file, either by passing `parse_dates=[COL1,COL2]` or `parse_dates=True` if the date is in the index.
* lesson16.ipynb - Restructure for more logical organization.
* lesson17.ipynb - Explain OTUs better -- we can just call them 'species' or 'taxa'.

Updates to assignments:

* assignment8.md - In Question 2 or 3, have them add in the columns for 'YEAR', 'MONTH', 'DAY', and 'DAY_OF_YEAR'. They will need these in Questions 3 and 4. 


Packages
-----

Data analysis

* NumPy -- the fundamental package for scientific computing with Python
* Pandas -- data structures and data analysis tools; enables you to carry out your entire data analysis workflow in Python without having to switch to a more domain-specific language like R; Series and DataFrame are based on Python dictionaries and NumPy arrays
* MatPlotLib -- MATLAB clone for Python
* [bokeh](http://bokeh.pydata.org/en/latest/) -- interactive data visualizations for the web
* [mpld3](http://mpld3.github.io) -- interactive data visualizations for the web
* [seaborn](http://stanford.edu/~mwaskom/software/seaborn/index.html) -- visualization for MatPlotLib

Application-specific

* Scikit-Bio -- underlying codebase for QIIME, replacement for PyCogent
* Biopython -- has some useful code, but the Knight Lab hates it
* QIIME -- microbiome and statistical analysis package
* Others: math, collections, operator, future, csv
* Sympy -- symbolic mathematics
* Statsmodels -- to explore data, estimate statistical models, and perform statistical tests
* Scikit-learn -- tools for data mining and data analysis (including machine learning)
* PyQt -- Python bindings for the Qt cross-platform graphical user interface toolkit (or the equivalent Pyside)
* Spyder -- interactive development environment with advanced editing, interactive testing, debugging and introspection features


Glossary
-----

**object** -- Pretty much everything in Python is an object: numbers, strings, data structures, functions, classes, modules. Every object exists in its own "box" called a _Python object_.

**type** -- Each object has an associated type (e.g. string or function) and internal data. Entering `type(X)` will give the type of `X`.

**variable** -- Name for object within a particular namespace. The type information and internal data (value) of the object is stored in the object itself.

**attributes** -- Other Python objects stored inside an object. For example, if you have an object stored as variable `x`, then the anything after the dot in `x._____` is an attribute.

**methods** -- A common type of attribute, methods are functions attached to an object with access to the object's internal data. They always contain parentheses afterward, with or without arguments. For example, if you set `x = 'abc'` then `x.upper()` will return `'ABC'`.

**function** 

**module** -- A module is any Python file without the `.py` extension.

**class** -- A new type of Python object that you create.

**package** -- A package is a directory of modules including an additional `__init__.py` file ("library" is a generic term sometimes used interchangeably with "package").

**booleans** -- TRUE, FALSE

**control structures** -- if, then, else, while, with, break, pass, try


From Corey (integrate or separate)
-----

[Think Python: How to Think Like a Computer Scientist](http://www.greenteapress.com/thinkpython/html/index.html)

[Google's Python Exercises](https://developers.google.com/edu/python/) - I would assign the exercises for lists and strings.  


Survey of Tools for Data Science and Visualization:

* [Apache Mahout](https://mahout.apache.org/)
* [Apache Pig](https://pig.apache.org/)
* GraphViz / [Gephi](http://gephi.github.io/) / [d3.js](http://d3js.org/)
* Command-line tools: grep, sed, awk, uniq, curl, etc.
* Python with libraries. (SciPy, NumPy, PANDAS, matplotlib, networkx)
* [Natural Language Toolkit](http://www.nltk.org/)


Potential exercises:

* [Scraping Data] Have students download data from Twitter, Facebook, Yelp, Common Crawl (web), MovieLens, LastFM (music) or other social data.
* [Mahout] Collect some works from The Gutenberg Project.  Have students create term-vectors and run cosign similarity to see which works are more similar.
* [Pig] [Analyze a weblog](http://blogs.ischool.berkeley.edu/i290-abdt-s12/assignments/assignment-1/) - A very real-world example. 
* [GraphViz / Gephi] [Graph Visualization](http://blogs.ischool.berkeley.edu/i290-abdt-s12/files/2012/10/Assignment3.pdf)  - Make awesome graphs. 
* [NLTK] - Train an NLTK Name Extraction classifier on a new entity type and (for example, artist names from a music web site). Evaluate results in precision and recall.

-->


